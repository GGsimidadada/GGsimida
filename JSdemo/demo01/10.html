<!DOCTYPE html>
<html lang = "en" >
	<head >
		<meta charset = "UTF-8" >
		<title >文本自动滚动</title >
		<style>
			#box {
				margin: 0 auto;
				width: 400px;
				text-align: center;
				background-color: #d8ebee;
				padding: 50px 0;
				vertical-align: middle;
			}
			
			ul, li {
				margin: 0;
				padding: 0;
				list-style-type: none;
			}
			
			#container {
				background-color: #eee;
				border: 1px solid #333;
				height: 150px;
				width: 300px;
				overflow: hidden;
				margin: auto;
			}
			
		</style>
	</head >
	<body >
		<div id="box">
			<p>文本框内容自动滚动</p>
			<div id="container">
				<ul id="scroll">
					<li >汉皇重色思倾国，御宇多年求不得。</li >
					<li >杨家有女初长成，养在深闺人未识。</li >
					<li >天生丽质难自弃，一朝选在君王侧。</li >
					<li >回眸一笑百媚生，六宫粉黛无颜色。</li >
					<li >春寒赐浴华清池，温泉水滑洗凝脂。</li >
					<li >侍儿扶起娇无力，始是新承恩泽时。</li >
					<li >云鬓花颜金步摇，芙蓉帐暖度春宵。</li >
					<li >春宵苦短日高起，从此君王不早朝。</li >
				</ul>
			</div>
		</div>
		
		<script >
			window.onload = function () {
			    var ul = document.getElementById("scroll"),
					lis = ul.getElementsByTagName("li");
                setInterval(function () {
                    jsAnimate(ul, -lis[0].offsetHeight, function () {
                        //调换文本顺序，将第一行换至最后一行，并将margintop初始化。
						ul.append(ul.firstElementChild);
						ul.style.marginTop = 0;
                    });
                }, 1000)
            };
			
            function jsAnimate(elem, final, callback) {
				var current, target, step;
				current = parseInt(elem.style.marginTop) || 0;
				target = (parseInt(final));
				target > current ?
                    step = Math.ceil((target - current) / 10) :
                    step = Math.floor((target - current) / 10) ;
				current += step;
				elem.style.marginTop = current + "px";
				if (current === target) {
				    callback();
				    return true;
				}
                setTimeout(function () {
					jsAnimate(elem, final, callback);
                }, 15)
            }
		</script >
	</body >
</html >